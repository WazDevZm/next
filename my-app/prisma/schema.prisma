// This is your Prisma schema file.
// Learn more: https://pris.ly/d/prisma-schema

// Client generator
generator client {
  provider = "prisma-client-js"
}

// Database connection
datasource db {
  provider = "postgresql"   
  url      = env("DATABASE_URL")
}

// User model
model User {
  id           String   @id @default(uuid())
  clerkUserId  String   @unique
  email        String   @unique
  name         String?
  imageURL     String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  Records      Record[]
}

// Record model
model Record {
  id         String   @id @default(uuid())
  text       String
  amount     Float
  category   String   @default("Other")
  date       DateTime @default(now())
  userId     String
  user       User     @relation(fields: [userId], references: [clerkUserId], onDelete: Cascade)
  createdAt  DateTime @default(now())

  @@index([userId])
}
